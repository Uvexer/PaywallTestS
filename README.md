# PaywallTestS - Описание реализации

<img width="200" height="1862" alt="CleanShot 2026-01-07 at 12 13 44@2x"  src="https://github.com/user-attachments/assets/8a4e8207-63f0-4299-9970-7f9530f47a37" />
<img width="200" height="1862" alt="CleanShot 2026-01-07 at 12 13 47@2x"  src="https://github.com/user-attachments/assets/10b26028-2d48-444a-a923-55743e3593c0" />
<img width="200" height="1862" alt="CleanShot 2026-01-07 at 12 10 18@2x"  src="https://github.com/user-attachments/assets/6f51434f-5dd3-476e-b445-a2c0cc498626" />
<img width="200" height="1862" alt="CleanShot 2026-01-07 at 12 10 25@2x" src="https://github.com/user-attachments/assets/ce2bb4a0-f275-44c1-8665-ddde048e777e" />

## Реализованные функции

### 1. Онбординг (OnboardingView.swift)
- 2 экрана с простым дизайном
- Иконки, заголовки и описания
- Индикатор страниц (точки)
- Кнопка "Продолжить" для навигации

### 2. Экран Paywall (PaywallView.swift)
- Два плана подписки:
  - **Месячная**: 990 ₽/месяц
  - **Годовая**: 4 990 ₽/год (со скидкой 50%)
- Выбор плана подписки
- Список преимуществ
- Кнопка "Продолжить" с эмуляцией покупки (задержка 1.5 сек)
- Индикатор загрузки во время "покупки"

### 3. Главный экран (MainView.swift)
- Приветственный блок с информацией о подписке
- Карточки с контентом:
  - Эксклюзивные статьи
  - Видео уроки
  - Аналитика
  - Уведомления
- Кнопка сброса подписки (для тестирования)

### 4. Управление состоянием (SubscriptionManager.swift)
- Использует UserDefaults для хранения:
  - Статус активной подписки
  - Завершение онбординга
  - Тип подписки (месячная/годовая)
- ObservableObject для реактивности UI
- Методы:
  - `completeOnboarding()` - завершение онбординга
  - `purchaseSubscription(type:)` - эмуляция покупки
  - `resetSubscription()` - сброс для тестирования

### 5. Логика навигации (PaywallTestSApp.swift)
При запуске приложения проверяется состояние:
- Если есть активная подписка → MainView
- Если завершён онбординг, но нет подписки → PaywallView
- Новый пользователь → OnboardingView

## Технические детали

- SwiftUI для UI
- Combine (@Published) для реактивности
- UserDefaults для персистентности
- SF Symbols для иконок
- Адаптивный дизайн с системными цветами

## Как тестировать

1. Первый запуск - показывается онбординг
2. После онбординга - показывается paywall
3. После "покупки" - показывается главный экран
4. При следующем запуске сразу открывается главный экран
5. Кнопка "Сбросить подписку" на главном экране позволяет вернуться к началу

## Структура проекта

```
PaywallTestS/
├── PaywallTestSApp.swift          # Точка входа и навигация
├── SubscriptionManager.swift      # Управление состоянием
├── OnboardingView.swift           # Экраны онбординга
├── PaywallView.swift              # Экран покупки подписки
└── MainView.swift                 # Главный экран приложения
```

